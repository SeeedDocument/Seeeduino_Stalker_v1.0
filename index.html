<html><head><meta name="viewport" content="width=device-width, initial-scale=1"><link href=//fonts.googleapis.com/css?family=Raleway:400,300,600 rel=stylesheet type=text/css><link rel="stylesheet" type="text/css" href="../common/css/normalize.css"><link rel="stylesheet" type="text/css" href="../common/css/skeleton.css"><link rel="stylesheet" type="text/css" href="../common/css/wiki.css"><script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><title>Seeeduino Stalker v1.0</title><meta charset="utf-8"/></head><body><div class"container"><a href="../"><img src="../common/logo.png"/></a></div><div class="mw-content-ltr container" dir="ltr" id="mw-content-text" lang="en"><h1>Seeeduino Stalker v1.0</h1><p><font color="red">
<b>This is not the latest version of Seeeduino Stalker and has been discontinued.<br/>The latest version can be found here: <a href="/Seeeduino_Stalker_v2.1" title="Seeeduino Stalker v2.1">Seeeduino Stalker v2.1</a><br/>Look <a href="/Seeeduino_Stalker#Comparison_between_various_versions_of_Seeeduino_Stalker" title="Seeeduino Stalker"> here</a> for comparison between v1.0, v2.0 and v2.1.</b>
</font>
<br/><br/>
Link to product page for this device (follow this link to buy):<br/>
<b>Seeeduino Stalker Atmega 168P v1.0</b>
<b>Model: <a href="http://www.seeedstudio.com/depot/seeeduino-stalker-atmega-168-p-639.html?cPath=79_80">ARD125B5P</a></b><br/>
</p>

<p>Seeeduino Stalker is a feature rich Arduino compatible Wireless Sensor Network node. It's modular structure and onboard peripherals makes it convenient to log time stamp sensor data on a periodic basis. The Seeeduino Stalker is a good candidate for all your tracking, monitoring and control projects.
<br/>
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:502px;"><img src="img/Seeeduino-stalker-168.jpg" width="500"/> <div class="thumbcaption">Seeeduino Stalker v1.0</div></div></div></div>
<h2>  Features </h2>
<ul><li> <a href="/w/index.php?title=Microcontrollers&amp;action=edit&amp;redlink=1" title="Microcontrollers (page does not exist)">Arduino</a> compatible, based on <a href="/Seeeduino_V2.2" title="Seeeduino V2.2">Seeeduino</a>
</li><li> Onboard microcontroller: ATmega168P or ATmega328P (both variants available for purchase)
</li><li> Dual mode of operation: As a standalone Arduino or as a Shield stacked ontop of Arduino. (Pinheader locations are Arduino Duemilanove compatible)
</li><li> Onboard Real Time Clock chip with CR2032 coin cell as backup power source
</li><li> Serial interface with DTR for auto reset during programming when operating in standalone mode. (For programming, <a href="/UartSBee" title="UartSBee">UartSBee</a> must be bought separately)
</li><li> microSD card socket 
</li><li> I2C Pin header (operation voltage is selectable: 5.0V or 3.3V)
</li><li> User defined switch and LED 
</li><li> <a href="/w/index.php?title=Bee_series&amp;action=edit&amp;redlink=1" title="Bee series (page does not exist)">Bee series socket</a> - 2*10 pin 2.0mm pitch (which will mate with - one at a time - any of the wireless modules: <a href="/XBee_Pro_Series2_RF_module" title="XBee Pro Series2 RF module">XBee</a>, <a href="/Bluetooth_Bee" title="Bluetooth Bee">BluetoothBee</a>, <a href="/w/index.php?title=GPS_Bee_kit_(with_Mini_Embedded_Antenna)&amp;action=edit&amp;redlink=1" title="GPS Bee kit (with Mini Embedded Antenna) (page does not exist)">GPSBee</a> or <a href="/RFbee_V1.1-Wireless_Arduino_compatible_node" title="RFbee V1.1 - Wireless Arduino compatible node">RFBee</a>.) <i>Please note that <a href="/UartSBee" title="UartSBee">UartSBee</a> is incompatible with this socket - a separate serial interface connector (as mentioned above) is provided for <a href="/UartSBee" title="UartSBee">UartSBee</a></i>
</li></ul>
<h2>  Applications </h2>
<ul><li> Wireless Sensor Network (using <a href="/XBee_Pro_Series2_RF_module" title="XBee Pro Series2 RF module">XBee</a> - bought seperately)
</li><li> GPS Logging (using <a href="/w/index.php?title=GPS_Bee_kit_(with_Mini_Embedded_Antenna)&amp;action=edit&amp;redlink=1" title="GPS Bee kit (with Mini Embedded Antenna) (page does not exist)">GPSBee</a> - bought seperately)
</li><li> Data Acquisition System capable of communicating with an App running on iPhone/Android Phone/Nokia Phone (using <a href="/Bluetooth_Bee" title="Bluetooth Bee">BluetoothBee</a> - bought seperately)
</li><li> RF Remote Control (using <a href="/RFbee_V1.1-Wireless_Arduino_compatible_node" title="RFbee V1.1 - Wireless Arduino compatible node">RFBee</a> - bought seperately)
</li><li> As a simple standalone Arduino compatible physical computing platform (<a href="/UartSBee" title="UartSBee">UartSBee</a> must be bought seperately for programming)
</li></ul>
<p><font color="Red">
<strong>
</strong></font></p>
<h2>  Cautions  </h2>
<ul><li> The product is provided as is. Please observe ESD precautions specially in dry (low humidity) weather.
</li><li> Please disable bluetooth serial ports when using a Windows based development machine to prevent the Arduino IDE from freezing.
</li></ul>
<p>
</p>
<h2>  Block Diagram  </h2>
<div class="center"><div class="floatnone"><img src="img/Stalker-V1-Block.jpg" width="525"/></div></div>
<p><br/>
</p>
<h2>  Schematics  </h2>
<p><a href="http://www.seeedstudio.com/depot/datasheet/Seeedstalker_V1.0.pdf">Schematics for Seeeduino Stalker v1.0 (PDF)</a>
</p>
<h2>  Specifications </h2>
<h3>  Key Technical Specifications </h3>
<table border="0" cellpadding="3" cellspacing="0">
<tr>
<td width="200"><b>Microprocessor:</b>
</td>
<td width="400">ATMega168P or ATmega328P
</td></tr>
<tr>
<td><b>PCB size:</b>
</td>
<td>6.8cm x 5.5cm x 0.16cm
</td></tr>
<tr>
<td><b>Indicators:</b>
</td>
<td>Reset, Power, LED on PB5 (Arduino Pin 13)
</td></tr>
<tr>
<td><b>Power supply:</b>
</td>
<td>5V or 7-12V
</td></tr>
<tr>
<td><b>Power Connector:</b>
</td>
<td>2 pin JST/ USB
</td></tr>
<tr>
<td><b>I/O counts:</b>
</td>
<td>20
</td></tr>
<tr>
<td><b>ADC input:</b>
</td>
<td>Dedicated 2 channel (10 bit resolution)
</td></tr>
<tr>
<td><b>Connectivity:</b>
</td>
<td>I<sup>2</sup>C, UART, SPI
</td></tr>
<tr>
<td><b>RoHS:</b>
</td>
<td>Yes
</td></tr></table>
<h3>  Electrical Characterstics </h3>
<table >
<tr>
<th>Specifications
</th>
<th>Min
</th>
<th>Norm
</th>
<th>Max
</th>
<th>Units
</th></tr>
<tr style="font-size: 90%">
<td width="200"> Input voltage
</td>
<td width="150">  5
</td>
<td width="150">  9
</td>
<td width="150">  12
</td>
<td width="150">  Volts (DC)
</td></tr>
<tr style="font-size: 90%">
<td> Global Current Consumption
</td>
<td>  -
</td>
<td>  300
</td>
<td>  1000
</td>
<td>  mA
</td></tr>
<tr style="font-size: 90%">
<td> 3.3V I<sup>2</sup>C voltage
</td>
<td>  3.2
</td>
<td>  3.3
</td>
<td> 3.5
</td>
<td>  Volts (DC)
</td></tr>
<tr style="font-size: 90%">
<td> 5.0V I<sup>2</sup>C voltage
</td>
<td>  4.6
</td>
<td>  4.7
</td>
<td>  5
</td>
<td>  Volts (DC)
</td></tr>
<tr style="font-size: 90%">
<td> UART Baud Rate<br/>(while programming)
</td>
<td>  -
</td>
<td>  -
</td>
<td>  115200
</td>
<td>  bps
</td></tr></table>
<h2>  Usage  </h2>
<h3>  Application Notes </h3>
<div class="center"><div class="floatnone"><img src="img/Stalker-V1-applications.jpg" width="658"/></div></div>
<h3>  Connection Notes </h3>
<div class="center"><div class="floatnone"><img src="img/Stalker-V1-hardware.jpg" width="775"/></div></div>
<ul><li><b><a href="/w/index.php?title=Bee_series&amp;action=edit&amp;redlink=1" title="Bee series (page does not exist)">Bee series</a> socket</b> - 2*10 pin 2.0mm pitch (which will mate with - one at a time - any of the <a href="/w/index.php?title=Bee_series&amp;action=edit&amp;redlink=1" title="Bee series (page does not exist)">wireless modules</a>: <a href="/XBee_Pro_Series2_RF_module" title="XBee Pro Series2 RF module">XBee</a>, <a href="/Bluetooth_Bee" title="Bluetooth Bee">BluetoothBee</a>, <a href="/w/index.php?title=GPS_Bee_kit_(with_Mini_Embedded_Antenna)&amp;action=edit&amp;redlink=1" title="GPS Bee kit (with Mini Embedded Antenna) (page does not exist)">GPSBee</a> or <a href="/RFbee_V1.1-Wireless_Arduino_compatible_node" title="RFbee V1.1 - Wireless Arduino compatible node">RFBee</a>.) Communication with these modules are done through UART.
</li><li><b>Serial interface</b> – To save space and lower costs, USB&lt;-&gt;Serial connectivity is not provided by default. You may use the FT232 based <a href="/UartSBee" title="UartSBee">UartSBee</a> or other USB to serial adapter to do the programming or communicate with the PC.
</li><li><b>User LED and Switch</b> – An LED and a Switch have been provided onboard for use in your application as desired.
</li><li><b>Master switch</b> – Removes power from the Seeeduino Stalker board. RTC will remain working if a CR2032 battery has been installed.
</li><li><b>Interrupt Jumper</b> – Mount this jumper if you want to allow the module inserted in the Bee series socket to interrupt the microcontroller on any data reception event. This is useful in sensor network application to wake up the microcontroller from sleep mode.
</li><li><b>I<sup>2</sup>C Interface</b>: Onboard I<sup>2</sup>C level shifter IC provides voltage translation between 3.3V and 5V devices. This allows you to connect 5.0 Volt I<sup>2</sup> ICs to you microcontroller when its operating on 3.3 Volts.
</li></ul>
<h2>  Datasheets of Components </h2>
<ul><li><a href="http://www.atmel.com/dyn/resources/prod_documents/doc2545.pdf">ATmega168</a> - 8-bit AVR Microcontroller present onboard Seeeduino Stalker.
</li><li><a href="http://www.nxp.com/documents/data_sheet/PCA9306.pdf">PCA9306</a> - Dual bidirectional I<sup>2</sup>C-bus and SMBus voltage-level translator.
</li><li><a href="http://pdfserv.maxim-ic.com/en/ds/DS1307.pdf">DS1307</a> - I<sup>2</sup>C Real Time Clock chip.
</li><li><a href="http://www.national.com/ds/LM/LM1117.pdf">LM1117</a> - Low Drop Out linear voltage regulator used in the power supply section.
</li></ul>
<h2>  Source Code Examples </h2>
<p>Programming Seeeduino Stalker is made easy through the use of Arduino and its libraries. A few code snippets provided below will help you kickstart the coding for your project. A RAR archive containing all of the following sketches is available <a href="http://www.seeedstudio.com/depot/datasheet/StalkerDemoCode.rar">here</a>.<br/>
</p><p>Please note that all of the Demo sketches presented below make use of the FileLogger library. Please refer to <a href="http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1240704747/all">this</a> thread at the Arduino Forum and download the library from its <a href="http://code.google.com/p/arduino-filelogger/">project page</a> at Google Code.<br/>
</p><p>Also, a few Seeeduino Stalker users have shared some of the code developed by them in a <a href="http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1273413449%20">thread</a> at the Arduino Forum.
<br/>
</p>
<h3>  Demo 1 - SD card usage </h3>
<p>Using a FileLogger library to store all the data from GPSBee on to the SD Card.
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="co2">#include &lt;SD.h&gt;</span>
 
<span class="kw4">const</span> <span class="kw4">int</span> chipSelect <span class="sy1">=</span> <span class="nu0">10</span><span class="sy4">;</span>
String buffer <span class="sy1">=</span> <span class="st0">""</span><span class="sy4">;</span>
<span class="kw4">unsigned</span> <span class="kw4">char</span> ptr<span class="sy4">;</span>
File myFile<span class="sy4">;</span>
byte val<span class="sy4">;</span>
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw2">Serial</span>.<span class="kw3">begin</span><span class="br0">(</span><span class="nu0">19200</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw3">pinMode</span><span class="br0">(</span>chipSelect,<span class="kw2">OUTPUT</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="kw1">if</span><span class="br0">(</span><span class="sy3">!</span>SD.<span class="kw3">begin</span><span class="br0">(</span>chipSelect<span class="br0">)</span><span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw1">return</span><span class="sy4">;</span>
  <span class="br0">}</span>
  File myFile <span class="sy1">=</span> SD.<span class="me1">open</span><span class="br0">(</span><span class="st0">"data.log"</span>,FILE_WRITE<span class="br0">)</span><span class="sy4">;</span>
   myFile.<span class="me1">close</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw1">if</span><span class="br0">(</span><span class="kw2">Serial</span>.<span class="kw3">available</span><span class="br0">(</span><span class="br0">)</span> <span class="sy1">&gt;</span> <span class="nu0">0</span><span class="br0">)</span>
  <span class="br0">{</span>
    val <span class="sy1">=</span> <span class="kw2">Serial</span>.<span class="kw3">read</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
    buffer <span class="sy1">=</span> String<span class="br0">(</span>val<span class="br0">)</span><span class="sy4">;</span>
    myFile <span class="sy1">=</span> SD.<span class="me1">open</span><span class="br0">(</span><span class="st0">"data.log"</span>,FILE_WRITE<span class="br0">)</span><span class="sy4">;</span>
    myFile.<span class="kw3">print</span><span class="br0">(</span>buffer<span class="br0">)</span><span class="sy4">;</span>
    myFile.<span class="me1">close</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
  <span class="br0">}</span>
<span class="br0">}</span></pre></div></div>
<p><br/>
</p>
<h3>  Demo 2 – Logging timestamped sensor data </h3>
<p>The onboard Real Time Clock module can be used for adding timestamp to the periodically read sensor data.<br/>
The Arduino sketch presented below illustrates how to take sensor readings from Analog Pin 0 and save it to SD Card along with timestamps.
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="co2">#include "FileLogger.h"</span>
<span class="co2">#include "DS1307.h"</span>
<span class="co2">#include &lt;WProgram.h&gt;</span>
<span class="co2">#include &lt;Wire.h&gt;</span>
 
<span class="co2">#define Timing 0</span>
<span class="co2">#define Accept 1</span>
<span class="co2">#define Record 2</span>
 
byte start<span class="br0">[</span><span class="nu0">7</span><span class="br0">]</span><span class="sy1">=</span> <span class="br0">{</span> <span class="st0">'B'</span>,<span class="st0">'e'</span>,<span class="st0">'g'</span>,<span class="st0">'i'</span>,<span class="st0">'n'</span>,<span class="nu12">0x0D</span>,<span class="nu12">0x0A</span><span class="br0">}</span><span class="sy4">;</span>
byte buffer<span class="br0">[</span><span class="nu0">20</span><span class="br0">]</span><span class="sy4">;</span>
<span class="kw4">int</span> temp<span class="sy4">;</span>
byte ASCII<span class="br0">[</span><span class="nu0">10</span><span class="br0">]</span><span class="sy1">=</span><span class="br0">{</span><span class="st0">'0'</span>,<span class="st0">'1'</span>,<span class="st0">'2'</span>,<span class="st0">'3'</span>,<span class="st0">'4'</span>,<span class="st0">'5'</span>,<span class="st0">'6'</span>,<span class="st0">'7'</span>,<span class="st0">'8'</span>,<span class="st0">'9'</span><span class="br0">}</span><span class="sy4">;</span>
<span class="kw4">unsigned</span> <span class="kw4">char</span> result<span class="sy4">;</span>
<span class="kw4">unsigned</span> <span class="kw4">char</span> state<span class="sy4">;</span>
<span class="kw4">int</span> <span class="kw3">time</span><span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span>
<span class="kw4">int</span> oldtime<span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span>
 
 
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="kw4">void</span><span class="br0">)</span>
<span class="br0">{</span>
    result <span class="sy1">=</span> FileLogger<span class="sy4">::</span><span class="me2">append</span><span class="br0">(</span><span class="st0">"data.log"</span>, start, <span class="nu0">7</span><span class="br0">)</span><span class="sy4">;</span><span class="co1">//Initial the SD Card</span>
    <span class="kw1">while</span><span class="br0">(</span>result<span class="br0">)</span> result <span class="sy1">=</span> FileLogger<span class="sy4">::</span><span class="me2">append</span><span class="br0">(</span><span class="st0">"data.log"</span>, start, <span class="nu0">7</span><span class="br0">)</span><span class="sy4">;</span>
    RTC.<span class="kw3">stop</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
    RTC.<span class="me1">set</span><span class="br0">(</span>DS1307_MIN,<span class="nu0">30</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">//set the minutes</span>
    RTC.<span class="me1">set</span><span class="br0">(</span>DS1307_HR,<span class="nu0">10</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">//set the hours</span>
    RTC.<span class="me1">set</span><span class="br0">(</span>DS1307_DATE,<span class="nu0">22</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">//set the date</span>
    RTC.<span class="me1">set</span><span class="br0">(</span>DS1307_MTH,<span class="nu0">12</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">//set the month</span>
    RTC.<span class="me1">set</span><span class="br0">(</span>DS1307_YR,<span class="nu0">9</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">//set the year</span>
    RTC.<span class="me1">start</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span>
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="kw4">void</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">switch</span><span class="br0">(</span>state<span class="br0">)</span>
    <span class="br0">{</span>
        <span class="kw1">case</span> Timing<span class="sy4">:</span>
        <span class="kw3">time</span><span class="sy1">=</span>RTC.<span class="me1">get</span><span class="br0">(</span>DS1307_SEC,<span class="kw2">true</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw3">delay</span><span class="br0">(</span><span class="nu0">200</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw1">if</span><span class="br0">(</span><span class="kw3">time</span><span class="sy3">!</span><span class="sy1">=</span>oldtime<span class="br0">)</span>
        <span class="br0">{</span>
            oldtime<span class="sy1">=</span><span class="kw3">time</span><span class="sy4">;</span>
            temp<span class="sy1">=</span>RTC.<span class="me1">get</span><span class="br0">(</span>DS1307_MTH,<span class="kw2">false</span><span class="br0">)</span><span class="sy4">;</span>
            buffer<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="sy1">=</span>ASCII<span class="br0">[</span><span class="br0">(</span>temp<span class="sy2">/</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">]</span><span class="sy4">;</span>
            buffer<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="sy1">=</span>ASCII<span class="br0">[</span><span class="br0">(</span>temp<span class="sy2">%</span><span class="nu19">10</span><span class="br0">)</span><span class="br0">]</span><span class="sy4">;</span>
            buffer<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span><span class="sy1">=</span><span class="st0">'-'</span><span class="sy4">;</span>
            temp<span class="sy1">=</span>RTC.<span class="me1">get</span><span class="br0">(</span>DS1307_DATE,<span class="kw2">false</span><span class="br0">)</span><span class="sy4">;</span>
            buffer<span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span><span class="sy1">=</span>ASCII<span class="br0">[</span><span class="br0">(</span>temp<span class="sy2">/</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">]</span><span class="sy4">;</span>
            buffer<span class="br0">[</span><span class="nu0">4</span><span class="br0">]</span><span class="sy1">=</span>ASCII<span class="br0">[</span><span class="br0">(</span>temp<span class="sy2">%</span><span class="nu19">10</span><span class="br0">)</span><span class="br0">]</span><span class="sy4">;</span>
            buffer<span class="br0">[</span><span class="nu0">5</span><span class="br0">]</span><span class="sy1">=</span><span class="st0">'-'</span><span class="sy4">;</span>
            temp<span class="sy1">=</span>RTC.<span class="me1">get</span><span class="br0">(</span>DS1307_HR,<span class="kw2">false</span><span class="br0">)</span><span class="sy4">;</span>
            buffer<span class="br0">[</span><span class="nu0">6</span><span class="br0">]</span><span class="sy1">=</span>ASCII<span class="br0">[</span><span class="br0">(</span>temp<span class="sy2">/</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">]</span><span class="sy4">;</span>
            buffer<span class="br0">[</span><span class="nu0">7</span><span class="br0">]</span><span class="sy1">=</span>ASCII<span class="br0">[</span><span class="br0">(</span>temp<span class="sy2">%</span><span class="nu19">10</span><span class="br0">)</span><span class="br0">]</span><span class="sy4">;</span>
            buffer<span class="br0">[</span><span class="nu0">8</span><span class="br0">]</span><span class="sy1">=</span><span class="st0">'-'</span><span class="sy4">;</span>
            temp<span class="sy1">=</span>RTC.<span class="me1">get</span><span class="br0">(</span>DS1307_MIN,<span class="kw2">false</span><span class="br0">)</span><span class="sy4">;</span>
            buffer<span class="br0">[</span><span class="nu0">9</span><span class="br0">]</span><span class="sy1">=</span>ASCII<span class="br0">[</span><span class="br0">(</span>temp<span class="sy2">/</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">]</span><span class="sy4">;</span>
            buffer<span class="br0">[</span><span class="nu0">10</span><span class="br0">]</span><span class="sy1">=</span>ASCII<span class="br0">[</span><span class="br0">(</span>temp<span class="sy2">%</span><span class="nu19">10</span><span class="br0">)</span><span class="br0">]</span><span class="sy4">;</span>
            buffer<span class="br0">[</span><span class="nu0">11</span><span class="br0">]</span><span class="sy1">=</span><span class="st0">'-'</span><span class="sy4">;</span>
            <span class="co1">//temp=RTC.get(DS1307_SEC,false);</span>
            buffer<span class="br0">[</span><span class="nu0">12</span><span class="br0">]</span><span class="sy1">=</span>ASCII<span class="br0">[</span><span class="br0">(</span><span class="kw3">time</span><span class="sy2">/</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">]</span><span class="sy4">;</span>
            buffer<span class="br0">[</span><span class="nu0">13</span><span class="br0">]</span><span class="sy1">=</span>ASCII<span class="br0">[</span><span class="br0">(</span>time<span class="sy2">%</span><span class="nu19">10</span><span class="br0">)</span><span class="br0">]</span><span class="sy4">;</span>
            buffer<span class="br0">[</span><span class="nu0">14</span><span class="br0">]</span><span class="sy1">=</span><span class="st0">':'</span><span class="sy4">;</span>
            state<span class="sy1">=</span>Accept<span class="sy4">;</span>
        <span class="br0">}</span>
        <span class="kw1">break</span><span class="sy4">;</span>
        <span class="kw1">case</span> Accept<span class="sy4">:</span>
        temp<span class="sy1">=</span><span class="kw3">analogRead</span><span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span><span class="sy4">;</span>
        buffer<span class="br0">[</span><span class="nu0">15</span><span class="br0">]</span><span class="sy1">=</span>ASCII<span class="br0">[</span><span class="br0">(</span>temp<span class="sy2">/</span><span class="nu0">100</span><span class="br0">)</span><span class="br0">]</span><span class="sy4">;</span>
        buffer<span class="br0">[</span><span class="nu0">16</span><span class="br0">]</span><span class="sy1">=</span>ASCII<span class="br0">[</span><span class="br0">(</span><span class="br0">(</span>temp<span class="sy2">%</span><span class="nu19">100</span><span class="br0">)</span><span class="sy2">/</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">]</span><span class="sy4">;</span>
        buffer<span class="br0">[</span><span class="nu0">17</span><span class="br0">]</span><span class="sy1">=</span>ASCII<span class="br0">[</span><span class="br0">(</span>temp<span class="sy2">%</span><span class="nu19">10</span><span class="br0">)</span><span class="br0">]</span><span class="sy4">;</span>
        buffer<span class="br0">[</span><span class="nu0">18</span><span class="br0">]</span><span class="sy1">=</span><span class="nu12">0x0D</span><span class="sy4">;</span>
        buffer<span class="br0">[</span><span class="nu0">19</span><span class="br0">]</span><span class="sy1">=</span><span class="nu12">0x0A</span><span class="sy4">;</span>
        state<span class="sy1">=</span>Record<span class="sy4">;</span>
        <span class="kw1">break</span><span class="sy4">;</span>
        <span class="kw1">case</span> Record<span class="sy4">:</span>
        result <span class="sy1">=</span> FileLogger<span class="sy4">::</span><span class="me2">append</span><span class="br0">(</span><span class="st0">"data.log"</span>, buffer, <span class="nu0">20</span><span class="br0">)</span><span class="sy4">;</span>
        <span class="kw1">if</span> <span class="br0">(</span>result<span class="sy1">==</span><span class="nu0">0</span><span class="br0">)</span>
        <span class="br0">{</span>
            state<span class="sy1">=</span>Timing<span class="sy4">;</span>
        <span class="br0">}</span>
        <span class="kw1">break</span><span class="sy4">;</span>
        <span class="kw1">default</span><span class="sy4">:</span>
        state<span class="sy1">=</span>Timing<span class="sy4">;</span>
        <span class="kw1">break</span><span class="sy4">;</span>
    <span class="br0">}</span>
<span class="br0">}</span></pre></div></div>
<p><br/>
</p>
<h3>  Demo 3 Operating the Seeeduino Stalker as a Shield </h3>
<p>The Seeeduino Stalker can be mounted as a shield on another Arduino Duemilanove/UNO compatible board.<br/>
The following sketch illustrates how to receive data from the microcontroller below via I<sup>2</sup>C and save it onto the SD Card.
</p>
<div class="mw-geshi mw-code mw-content-ltr container" dir="ltr"><div class="arduino source-arduino"><pre class="de1"><span class="co2">#include "FileLogger.h"</span>
<span class="co2">#include &lt;Wire.h&gt;</span>
 
byte start<span class="br0">[</span><span class="nu0">7</span><span class="br0">]</span><span class="sy1">=</span> <span class="br0">{</span> <span class="st0">'B'</span>,<span class="st0">'e'</span>,<span class="st0">'g'</span>,<span class="st0">'i'</span>,<span class="st0">'n'</span>,<span class="nu12">0x0D</span>,<span class="nu12">0x0A</span><span class="br0">}</span><span class="sy4">;</span>
<span class="kw4">unsigned</span> <span class="kw4">char</span> buffer<span class="br0">[</span><span class="nu0">10</span><span class="br0">]</span><span class="sy4">;</span>
<span class="kw4">unsigned</span> <span class="kw4">char</span> result<span class="sy4">;</span>
<span class="kw4">unsigned</span> <span class="kw4">char</span> state<span class="sy4">;</span>
 
<span class="kw4">void</span> <span class="kw2">setup</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    result <span class="sy1">=</span> FileLogger<span class="sy4">::</span><span class="me2">append</span><span class="br0">(</span><span class="st0">"data.log"</span>, start, <span class="nu0">7</span><span class="br0">)</span><span class="sy4">;</span><span class="co1">//Initial the SD Card</span>
    <span class="kw1">while</span><span class="br0">(</span>result<span class="br0">)</span> result <span class="sy1">=</span> FileLogger<span class="sy4">::</span><span class="me2">append</span><span class="br0">(</span><span class="st0">"data.log"</span>, start, <span class="nu0">7</span><span class="br0">)</span><span class="sy4">;</span>
    <span class="kw2">Wire</span>.<span class="kw3">begin</span><span class="br0">(</span><span class="nu0">4</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// join i2c bus with address #4</span>
    <span class="kw2">Wire</span>.<span class="kw3">onReceive</span><span class="br0">(</span>receiveEvent<span class="br0">)</span><span class="sy4">;</span> <span class="co1">// register event</span>
<span class="br0">}</span>
<span class="kw4">void</span> <span class="kw2">loop</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
<span class="kw4">void</span> receiveEvent<span class="br0">(</span><span class="kw4">int</span> howMany<span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw4">unsigned</span> <span class="kw4">char</span> i<span class="sy1">=</span><span class="nu0">0</span><span class="sy4">;</span>
    <span class="kw1">while</span><span class="br0">(</span><span class="kw2">Wire</span>.<span class="kw3">available</span><span class="br0">(</span><span class="br0">)</span><span class="sy1">&gt;</span><span class="nu0">0</span><span class="br0">)</span>
    <span class="br0">{</span>
        buffer<span class="br0">[</span>i<span class="br0">]</span> <span class="sy1">=</span> <span class="kw2">Wire</span>.<span class="kw3">receive</span><span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span> <span class="co1">// receive byte as a character</span>
        i<span class="sy2">++</span><span class="sy4">;</span>
    <span class="br0">}</span>
    result <span class="sy1">=</span> FileLogger<span class="sy4">::</span><span class="me2">append</span><span class="br0">(</span><span class="st0">"data.log"</span>, buffer, i<span class="br0">)</span><span class="sy4">;</span>
    <span class="kw1">while</span><span class="br0">(</span>result<span class="br0">)</span> result <span class="sy1">=</span> FileLogger<span class="sy4">::</span><span class="me2">append</span><span class="br0">(</span><span class="st0">"data.log"</span>, start, <span class="nu0">7</span><span class="br0">)</span><span class="sy4">;</span>
<span class="br0">}</span></pre></div></div>
<h2>  FAQ  </h2>
<p>Answers to questions asked about this product by its users are posted here
</p>
<h2>  Support  </h2>
<p>If you have questions or other better design ideas, you can go to our <a href="http://www.seeedstudio.com/forum">forum</a> or <a href="http://wish.seeedstudio.com">wish</a> to discuss. 
</p><p><br/>
</p>
<h2>  Revision History  </h2>
<table >
<tr>
<th>Revision
</th>
<th>Descriptions
</th>
<th>Release Date
</th></tr>
<tr style="font-size: 90%">
<td width="300"> <strong class="selflink">Seeeduino Stalker v1.0</strong>
</td>
<td width="500"> Initial public release
</td>
<td width="200"> Dec 23, 2009
</td></tr>
<tr style="font-size: 90%">
<td> <a href="/Seeeduino_Stalker_v2.0" title="Seeeduino Stalker v2.0">Seeeduino Stalker v2.0</a>
</td>
<td> New and improved version with more features
</td>
<td> Dec 17, 2010
</td></tr></table>
<h2>  Bug Tracker  </h2>
<p>Bug Tracker is the place you can publish any bugs you think you might have found during use. Please write down what you have to say, your answers will help us improve our products.
</p>
<h2>  Additional Ideas  </h2>
<p>The Additional Ideas is the place to write your project ideas about this product, or other usages you've found. Or you can write them on Projects page. 
</p>
<h2>  Resources  </h2>
<p><a href="http://seeedstudio.com/wiki/images/4/40/Stalker.zip">Stalker Eagle Design Files</a>
</p>
<h2>  How to buy  </h2>
<p>Seeeduino Stalker v1.0 is already out of stock (Product page <a href="http://www.seeedstudio.com/depot/seeeduino-stalker-atmega-328-p-600.html?cPath=80">here</a>), instead please checkout Seeeduino Stalker v2.0: <a href="/Seeeduino_Stalker_v2.0" title="Seeeduino Stalker v2.0"> Wiki page</a> | <a href="http://www.seeedstudio.com/depot/seeeduino-stalker-v2b-p-727.html?cPath=80">Product Page</a>
</p>
<h2>  See Also  </h2>
<ul><li><a href="/Seeeduino_Stalker_v2.0" title="Seeeduino Stalker v2.0">Seeeduino Stalker v2.0</a>
</li><li><a href="/Seeeduino_Stalker#Comparison_between_various_versions_of_Seeeduino_Stalker" title="Seeeduino Stalker"> Comparison between various versions of Seeeduino Stalker</a>
</li></ul>
<h2>  Licensing  </h2>
<p>This documentation is licensed under the Creative Commons <a href="http://creativecommons.org/licenses/by-sa/3.0/">Attribution-ShareAlike License 3.0</a> Source code and libraries are licensed under <a href="http://www.gnu.org/licenses/gpl.html">GPL/LGPL</a>, see source code files for details.
</p>
<h2>  External Links  </h2>
<p>Links to external webpages which provide more application ideas, documents/datasheet or software libraries.
</p>
Copyright (c) 2008-2016 Seeed Development Limited (<a href="http://www.seeedstudio.com">www.seeedstudio.com</a> / <a href="http://www.seeed.cc">www.seeed.cc</a>)<h6>This static html page was created from http://www.seeedstudio.com/wiki</h6></div></body></html>